<!doctype html>
<html lang="en" ng-app>
<head>
    <meta charset="utf-8"/>
    <title>Search form with AngualrJS</title>
    <script>
        function SearchCtrl($scope, $http) {

            $.ajax({
                url: '/HelloWorld/ajaxutils',
                data: {username: 'USERNAME', password: 'PWD'},
                dataType: 'html',
                contentType: 'application/json',
                success: function (data, textStatus, xhr) {
                    alert(data);
                },
                error: function (xhr, textStatus, errorThrown) {
                    //alert("Hata Oluştu: " + textStatus + " , " + errorThrown);
                }
            }).done(function (msg) {
                        if (msg) {
                            alert(name + " ürünün Stok bilgisi başarıyla GÜNCELLENDİ");
                        }
                        else {
                            alert("Hata: " + msg);
                        }
                    });

        }
        function SearchCtrlaaa($scope, $element, $http) {
            $scope.url = 'php/search.php';
            $scope.submit = function () {
                //var dt = $(elem.parent()).serialize();
                //console.log($element.serialize());
                /*
                 $http({
                 method: 'POST',
                 url: $scope.url,
                 data: 'first=hgf&last=ghfgh',
                 headers: {'Content-Type': 'application/x-www-form-urlencoded'}
                 }).success(function(data, status) {
                 $scope.status = status;
                 $scope.data = data;
                 $scope.result = data;
                 }).error(function(data, status) {
                 $scope.data = data || "Request failed";
                 $scope.status = status;
                 });
                 */
                $.ajax({
                    url: url,
                    type: 'POST',
                    data: { productid: id, yenistok: stok },
                    dataType: 'html',
                    beforeSend: function (xhr) {
                    },
                    success: function (data, textStatus, xhr) {
                    },
                    error: function (xhr, textStatus, errorThrown) {
                        alert("Hata Oluştu: " + textStatus + " , " + errorThrown);
                    }
                }).done(function (msg) {
                            if (msg) {
                                alert(name + " ürünün Stok bilgisi başarıyla GÜNCELLENDİ");
                            }
                            else {
                                alert("Hata: " + msg);
                            }
                        });


                return false;
            };
        }

    </script>
</head>
<body>
<script src="js/angular.min.js"></script>
<script src="js/angular-route.min.js"></script>
<script src="js/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="js/bootstrap.min.js" type="text/javascript"></script>

<script type="text/javascript" charset="utf-8">
    var myApp = angular.module('myApp',[]);
    function TestSearchCtrl($scope) {
        var myApp = angular.module('myApp',[]);
        $scope.contacts = ["hi@email.com", "hello@email.com"];
        $scope.range = [1,2,3,4];
        $scope.result="Test 1 2 deneme";

        $scope.elements = ["1", "2", "3"]
        $scope.test = function () {
            var element = myForm.foo_2;
            console.log(element);
            angular.element(element).scope().foo = 6;
        }

        $scope.submit = function(formName) {
            //$scope.contacts.push($scope.contact);
            //$scope.contact = "";
            //alert($scope.contacts);
            for(var i=1;i<=$scope.range.length; i++){
                var element = eval("test.lala"+i);
                console.log(element);
                angular.element(element).scope().lala
                //alert(eval(formName.lala+i));               
                alert(element);
                $scope.input_count = i;
            }
        }
    }
</script>
<div>
    
    <form ng-controller="TestSearchCtrl" name="test" ng-submit="submit(this)">
        <label>Search:</label>
        <input type="text" name="keywords" ng-model="keywords" placeholder="enter name...">
        <input type="text" name="desc" ng-model="desc" placeholder="enter description...">
        <button type="submit">Search</button>
        <p>Try for example: "php" or "angularjs" or "asdfg"</p>

        <pre ng-model="result">
        {{result}}
        </pre>
        <input type="hidden" ng-model="input_count" value="{{input_count}}"/>
        <div ng-repeat="i in range">
            <input type="text" ng-model="lala" name="lala{{i}}" value="" placeholder="">
        </div>
    </form>
</div>




</body>

</html>
